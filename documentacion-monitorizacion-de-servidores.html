<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Documentaci√≥n Monitorizaci√≥n de servidores - Documentaci√≥n</title><meta name="description" content="Herramientas utilizadas: Gemini y Supabase Prompts: 1.Indicamos las especificaciones de como queremos que sea nuestro backend 2.Le pedimos que no haya que instalar nada y&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://Marper456.github.io/2damasi/documentacion-monitorizacion-de-servidores.html"><link rel="alternate" type="application/atom+xml" href="https://Marper456.github.io/2damasi/feed.xml" title="Documentaci√≥n - RSS"><link rel="alternate" type="application/json" href="https://Marper456.github.io/2damasi/feed.json" title="Documentaci√≥n - JSON"><meta property="og:title" content="Documentaci√≥n Monitorizaci√≥n de servidores"><meta property="og:image" content="https://Marper456.github.io/2damasi/media/website/documentacion.png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta property="og:site_name" content="Documentaci√≥n"><meta property="og:description" content="Herramientas utilizadas: Gemini y Supabase Prompts: 1.Indicamos las especificaciones de como queremos que sea nuestro backend 2.Le pedimos que no haya que instalar nada y&hellip;"><meta property="og:url" content="https://Marper456.github.io/2damasi/documentacion-monitorizacion-de-servidores.html"><meta property="og:type" content="article"><link rel="preload" href="https://Marper456.github.io/2damasi/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://Marper456.github.io/2damasi/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://Marper456.github.io/2damasi/assets/css/style.css?v=61f8500cc9bd68cea83f9bcdf6f3474c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://Marper456.github.io/2damasi/documentacion-monitorizacion-de-servidores.html"},"headline":"Documentaci√≥n Monitorizaci√≥n de servidores","datePublished":"2026-01-27T10:22+01:00","dateModified":"2026-01-27T10:42+01:00","image":{"@type":"ImageObject","url":"https://Marper456.github.io/2damasi/media/website/documentacion.png","height":512,"width":512},"description":"Herramientas utilizadas: Gemini y Supabase Prompts: 1.Indicamos las especificaciones de como queremos que sea nuestro backend 2.Le pedimos que no haya que instalar nada y&hellip;","author":{"@type":"Person","name":"Mario P√©rez Garro","url":"https://Marper456.github.io/2damasi/authors/mario-perez-garro/"},"publisher":{"@type":"Organization","name":"Mario P√©rez Garro","logo":{"@type":"ImageObject","url":"https://Marper456.github.io/2damasi/media/website/documentacion.png","height":512,"width":512}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><header class="header"><div class="header__logo"><a class="logo" href="https://Marper456.github.io/2damasi/"><img src="https://Marper456.github.io/2damasi/media/website/documentacion.png" alt="Documentaci√≥n" width="512" height="512"></a></div></header><main class="content"><article class="post"><header><h1 class="post__title">Documentaci√≥n Monitorizaci√≥n de servidores</h1><div class="post__meta"><time datetime="2026-01-27T10:22" class="post__date">January 27, 2026 </time><span class="post__author"><a href="https://Marper456.github.io/2damasi/authors/mario-perez-garro/" class="feed__author">Mario P√©rez Garro</a></span></div></header><div class="post__entry"><p>Herramientas utilizadas: Gemini y Supabase</p><p>¬†</p><p>Prompts:</p><p>1.Indicamos las especificaciones de como queremos que sea nuestro backend</p><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sh1.png" alt="" width="1460" height="815" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sh1-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh1-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh1-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh1-lg.png 1024w"></figure><p>2.Le pedimos que no haya que instalar nada y que se adapte a una serie de requerimientos que nos gustar√≠a mostrar en el dashboard</p><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sh2.png" alt="" width="1421" height="817" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sh2-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh2-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh2-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh2-lg.png 1024w"></figure><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sh3.png" alt="" width="1455" height="817" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sh3-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh3-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh3-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sh3-lg.png 1024w"></figure><p>3.Finalmente construimos el dashboard en base al backend</p><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/db1.png" alt="" width="1525" height="780" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/db1-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/db1-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/db1-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/db1-lg.png 1024w"></figure><p>Supabase:</p><p>1.Cogemos la clave p√∫blica y la url del proyecto para crear la conexi√≥n con el frontend y hacer una pantalla de log-in</p><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sb.png" alt="" width="1906" height="775" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sb-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb-lg.png 1024w"></figure><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sb2.png" alt="" width="1794" height="526" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sb2-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb2-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb2-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb2-lg.png 1024w"></figure><figure class="post__image"><img loading="lazy" src="https://Marper456.github.io/2damasi/media/posts/14/sb3.png" alt="" width="1899" height="291" sizes="(min-width: 920px) 703px, (min-width: 700px) calc(82vw - 35px), calc(100vw - 81px)" srcset="https://Marper456.github.io/2damasi/media/posts/14/responsive/sb3-xs.png 300w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb3-sm.png 480w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb3-md.png 768w, https://Marper456.github.io/2damasi/media/posts/14/responsive/sb3-lg.png 1024w"></figure><p>C√≥digo backend:</p><p>Esta parte configura el "t√∫nel" de comunicaci√≥n y detecta c√≥mo debe hablar el comando nc (netcat).</p><pre class="language-bash"><code>PORT=8000
PIPE="/tmp/vbox_pipe_$$"

# Detectar banderas de netcat (nc)
if nc -h 2&gt;&amp;1 | grep -q "OpenBSD"; then
    NC_FLAGS="-l -p $PORT -q 1"
else
    NC_FLAGS="-l -p $PORT -w 1"
fi

clean_exit() {
    echo -e "\nüî¥ Apagando servidor..."
    rm -f "$PIPE"
    exit 0
}
trap clean_exit SIGINT SIGTERM EXIT

if [[ ! -p $PIPE ]]; then mkfifo "$PIPE"; fi</code></pre><p>¬†</p><p>Esta funci√≥n es la que genera el contenido que el servidor enviar√°. Usa sed, grep y cut para limpiar la salida de VirtualBox.</p><pre class="language-bash"><code>get_vms_json() {
    if [ "$MODE" = "LIVE" ]; then
        VBoxManage list vms | while read line; do
            vm_name=$(echo "$line" | sed -E 's/^"([^"]+)".*$/\1/')
            vm_uuid=$(echo "$line" | sed -E 's/^.*\{(.*)\}$/\1/')
            info=$(VBoxManage showvminfo "$vm_uuid" --machinereadable)
            vm_state=$(echo "$info" | grep '^VMState=' | cut -d'=' -f2 | tr -d '"')
            vm_os=$(echo "$info" | grep '^ostype=' | cut -d'=' -f2 | tr -d '"')
            echo "{\"name\": \"$vm_name\", \"id\": \"$vm_uuid\", \"os\": \"$vm_os\", \"state\": \"$vm_state\"},"
        done | sed '$ s/,$//'
    else
        echo '{"name": "VM_Simulada_Linux", "id": "123", "os": "Ubuntu_64", "state": "running"}'
    fi
}
</code></pre><p>¬†</p><p>Bloqueque decide qu√© comando ejecutar seg√∫n lo que escribas en la URL del navegador. Aqu√≠ es donde el script se "disfraza" de servidor web real, enviando las cabeceras necesarias para que el navegador no rechace la conexi√≥n.</p><pre class="language-bash"><code>case "$path_decoded" in
            # Servimos el HTML tal cual, sin inyecciones complejas
            /|/index.html)
                status="200 OK"
                ctype="text/html"
                if [ -f "dashboard.html" ]; then
                    body=$(cat dashboard.html)
                else
                    body="&lt;h1&gt;Error: No se encuentra dashboard.html&lt;/h1&gt;"
                fi
                ;;
            /api/list)
                body="[$(get_vms_json)]"
                ;;
            /api/vm/*/on)
                vm_name=$(echo "$path_decoded" | awk -F'/' '{print $4}')
                [ "$MODE" = "LIVE" ] &amp;&amp; VBoxManage startvm "$vm_name" --type headless &gt;/dev/null 2&gt;&amp;1
                body="{\"status\": \"started\", \"vm\": \"$vm_name\"}"
                ;;
            /api/vm/*/off)
                vm_name=$(echo "$path_decoded" | awk -F'/' '{print $4}')
                [ "$MODE" = "LIVE" ] &amp;&amp; VBoxManage controlvm "$vm_name" acpipowerbutton &gt;/dev/null 2&gt;&amp;1
                body="{\"status\": \"stopping\", \"vm\": \"$vm_name\"}"
                ;;
            /api/vm/*/preview)
                vm_name=$(echo "$path_decoded" | awk -F'/' '{print $4}')
                if [ "$MODE" = "LIVE" ]; then
                    tmp_img="/tmp/vbox_snap_${RANDOM}.png"
                    VBoxManage controlvm "$vm_name" screenshotpng "$tmp_img" &gt;/dev/null 2&gt;&amp;1
                    if [ -f "$tmp_img" ]; then
                        body="{\"image\": \"data:image/png;base64,$(base64 -w 0 "$tmp_img")\"}"
                        rm "$tmp_img"
                    else
                        body="{\"image\": null}"
                    fi
                else
                    body="{\"image\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=\"}"
                fi
                ;;
        esac</code></pre><p>¬†</p><p>C√≥digo frontend:</p><p>Configuraci√≥n delas API de Supabase y gesti√≥n del backend cuando el dashboard esta en un navegador y su respectiva conexi√≥n</p><pre class="language-javascript"><code>        const SUPABASE_URL = 'https://itcggusssozjurboyopm.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_4U0FPDHk1jBYMW-wSwfBPQ_k40ST9wb';

        // Gesti√≥n din√°mica de la URL del Backend
        let API_URL = localStorage.getItem('vbox_backend_url') || '';

        const updateBackendUrl = () =&gt; {
            const input = document.getElementById('api-url-input');
            let val = input.value.trim();
            if (val &amp;&amp; val.endsWith('/')) val = val.slice(0, -1);
            API_URL = val;
            localStorage.setItem('vbox_backend_url', val);
            fetchVMs();
        };</code></pre><p>Funci√≥n para mostrar estados de la m√°quina de forma din√°mica</p><pre class="language-javascript"><code>function showDashboard(user) {
            document.getElementById('auth-container').classList.add('hidden');
            document.getElementById('app-container').classList.remove('hidden');
            document.getElementById('app-container').classList.add('flex');
            document.getElementById('user-email').textContent = user.email;
            fetchVMs();
            if (!window.vmInterval) window.vmInterval = setInterval(fetchVMs, 5000);
        }</code></pre><pre class="language-javascript"><code>newList.forEach(vm =&gt; {
    const isRunning = vm.state === 'running';
    // Crea el HTML de la tarjeta...
    card.innerHTML = `
        &lt;h3&gt;&lt;i class="fa-brands ${getOSIcon(vm.os)}"&gt;&lt;/i&gt; ${vm.name}&lt;/h3&gt;
        &lt;div class="monitor-screen"&gt; ... &lt;/div&gt;
    `;
    // ... gestiona si muestra el bot√≥n de PLAY o el de STOP
});</code></pre><p>¬†</p><p>¬†</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on January 27, 2026</p><div class="post__share"></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://Marper456.github.io/2damasi/documentacion-visor-de-documentos.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  Documentaci√≥n Visor de documentos "><span class="btn__icon">‚Üê</span> <span class="btn__text">Documentaci√≥n Visor de documentos</span> </a><a href="https://Marper456.github.io/2damasi/documentacion-finanzas-personales.html" class="btn next" rel="next" aria-label="[MISSING TRANSLATION]:  Documentaci√≥n Finanzas personales "><span class="btn__text">Documentaci√≥n Finanzas personales</span> <span class="btn__icon">‚Üí</span></a></div></nav></article></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p>¬© 2025 Hecho por <a href="https://marper456.github.io/2damasi/paginas-mario-perez-garro-2.html" target="_blank" rel="noopener">Mario P√©rez Garro</a></p></div></div></footer></div><script defer="defer" src="https://Marper456.github.io/2damasi/assets/js/scripts.min.js?v=c2232aa7558e9517946129d2a1b8c770"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>